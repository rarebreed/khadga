<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Setup - Learn how to create a web app with rust and webassembly</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded "><a href="chapter_1.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="expanded "><a href="chapter_2.html" class="active"><strong aria-hidden="true">2.</strong> Setup</a></li><li><ol class="section"><li class="expanded "><a href="chapter_3.html"><strong aria-hidden="true">2.1.</strong> Setting up the Project</a></li><li class="expanded "><a href="chapter_4.html"><strong aria-hidden="true">2.2.</strong> Frontend Navbar</a></li><li class="expanded "><a href="chapter_5.html"><strong aria-hidden="true">2.3.</strong> Mongo Database</a></li><li class="expanded "><a href="chapter_6.html"><strong aria-hidden="true">2.4.</strong> Security</a></li><li class="expanded "><a href="chapter_7.html"><strong aria-hidden="true">2.5.</strong> Backend Server</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Learn how to create a web app with rust and webassembly</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#setup" id="setup">Setup</a></h1>
<p>Now that you know what you will be building, let's get started setting up all the development
dependencies.  You'll need to have rust and npm set up as well as a few cargo tools</p>
<ul>
<li>rustup</li>
<li>npm (recommend using nvm)</li>
<li>cargo-generate</li>
<li>cargo-edit</li>
</ul>
<p>You can also checkout the github repository of khadga itself</p>
<h2><a class="header" href="#installing-rustup" id="installing-rustup">Installing rustup</a></h2>
<p>If you haven't already, install <a href="https://rustup.rs/">rustup</a> by following the directions.  If you
already have rustup installed, make sure it's at the latest and greatest (at the time of writing,
this is 1.38).  To update your rustup, do</p>
<pre><code class="language-bash">rustup self update
rustup update
</code></pre>
<p>Next, you need to set up the wasm32 target so that rustc can compile to the wasm32-unknown-unknown
target triple</p>
<pre><code class="language-bash">rustup target add wasm32-unknown-unknown
</code></pre>
<h3><a class="header" href="#other-rustup-goodies" id="other-rustup-goodies">Other rustup goodies</a></h3>
<p>While we are configuring rustup, we can install some other components as well</p>
<pre><code class="language-bash">rustup component add llvm-tools-preview rustfmt clippy rls rust-analysis
</code></pre>
<h3><a class="header" href="#c-toolchain" id="c-toolchain">C(++) toolchain</a></h3>
<p>Some rust crates have native dependencies.  For example the openssl crate will use and link to a
native ssl lib on your system.  Because of this, it's sometimes necessary to have a C(++) toolchain
on your system as well.</p>
<h2><a class="header" href="#adding-cargo-tools" id="adding-cargo-tools">Adding cargo tools</a></h2>
<p>Although cargo is automatically installed by rustup, we are going to install some cargo additions.</p>
<pre><code class="language-bash">cargo install cargo-generate cargo-edit
</code></pre>
<p>cargo-generate is a tool that will auto generate a template for you (and is used by wasm-pack) and
cargo-edit is a nice little cargo command that lets you add a dependency to your Cargo.toml (think
npm install).</p>
<h2><a class="header" href="#setting-up-vscode" id="setting-up-vscode">Setting up vscode</a></h2>
<p>We'll be using the Microsoft VS Code editor, since it has good support for rust and is relatively
lightweight.  Because we are using some bleeding edge crates, we'll also have to specify some
additional configuration in the rust extension.</p>
<p>First, install <a href="https://code.visualstudio.com/">vs code</a> itself.  Once you have code installed, we need to install
the rust extension. You can either do this from the command line, or through VS Code itself.</p>
<pre><code>code --install-extension rust-lang.rust
</code></pre>
<p>While we are installing extensions, let's install a couple others that will make our lives easier:</p>
<ul>
<li>crates: To make it easier to see what the latest (stable) crate version is at</li>
<li>lldb debugger: So we can debug our code</li>
<li>toml: so we can get syntax highlights and coloring for our toml files</li>
</ul>
<pre><code>code --install-extension bungcip.better-toml
code --install-extension vadimcn.vscode-lldb
code --install-extension serayuzgur.crates
</code></pre>
<h2><a class="header" href="#install-npm-and-nvm" id="install-npm-and-nvm">Install npm (and nvm)</a></h2>
<p>Since we are building a front end web app, we will be making use of some npm tools.  It's highly
recommended that you use the Node Version Manager (nvm) for this if you are on linux or MacOS.  For
windows users, you'll probably need to use chocolatey to install node (and npm).</p>
<h3><a class="header" href="#linux-and-macos" id="linux-and-macos">linux and macos</a></h3>
<p>For linux and macos users, you can follow the directions here to install nvm.  Once you install nvm,
you'll need to actually install a node version.</p>
<pre><code class="language-bash">nvm install 13
nvm use 13
</code></pre>
<h3><a class="header" href="#windows" id="windows">Windows</a></h3>
<p>For windows users, if you don't have chocolatey already, install that.  Then you can install node
(and therefore npm) with:</p>
<pre><code class="language-bash">choco install nodejs  # make sure you run from an elevated command shell
</code></pre>
<h2><a class="header" href="#installing-wasm-pack" id="installing-wasm-pack">Installing wasm-pack</a></h2>
<p>For this project, we will be using wasm-pack which will generate a template for us, as well as set
up a webpack config which will automatically compile our rust code to wasm.</p>
<p>You can install <a href="https://rustwasm.github.io/wasm-pack/">wasm-pack</a> here.</p>
<p>Alternatively, you can install wasm-pack via cargo:</p>
<pre><code class="language-sh">cargo install wasm-pack
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="chapter_1.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="chapter_3.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="chapter_1.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="chapter_3.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
